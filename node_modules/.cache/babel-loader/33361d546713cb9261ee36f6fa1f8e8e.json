{"ast":null,"code":"import _regeneratorRuntime from\"/Users/ovaishk/WebSites/Show-Stalker/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/ovaishk/WebSites/Show-Stalker/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/ovaishk/WebSites/Show-Stalker/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import\"./App.css\";import{useState,useEffect}from\"react\";import Show from\"../Show/Show\";import Filter from\"../Filter/Filter\";import Poster from\"../Poster/Poster\";import Loader from\"../Loader/Loader\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function App(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),searchItem=_useState2[0],setSearchItem=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),showList=_useState4[0],setShowList=_useState4[1];var _useState5=useState(true),_useState6=_slicedToArray(_useState5,2),loading=_useState6[0],setLoading=_useState6[1];var _useState7=useState(\"shows\"),_useState8=_slicedToArray(_useState7,2),filter=_useState8[0],setFilter=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),showFilter=_useState10[0],setShowFilter=_useState10[1];function handleSubmit(e){var val=e.target.value;setSearchItem(val);}function getTheShows(_x){return _getTheShows.apply(this,arguments);}function _getTheShows(){_getTheShows=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(searchItem){var data,response,url;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:url=\"https://api.tvmaze.com/search/\".concat(filter,\"?q=\").concat(searchItem);if(!(filter===\"shows\")){_context2.next=10;break;}_context2.next=4;return fetch(url);case 4:response=_context2.sent;_context2.next=7;return response.json();case 7:data=_context2.sent;_context2.next=18;break;case 10:url=\"https://api.tvmaze.com/search/\".concat(filter,\"?q=\").concat(searchItem);_context2.next=13;return fetch(url);case 13:response=_context2.sent;_context2.next=16;return response.json();case 16:data=_context2.sent;document.getElementsByClassName('actorInfo')[0].classList.remove('hideDiv');case 18:setShowList(data);case 19:case\"end\":return _context2.stop();}}},_callee2);}));return _getTheShows.apply(this,arguments);}useEffect(function(){_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setLoading(true);_context.next=3;return getTheShows(searchItem);case 3:setLoading(false);case 4:case\"end\":return _context.stop();}}},_callee);}))();// eslint-disable-next-line react-hooks/exhaustive-deps\n},[searchItem,filter]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"home\",children:[/*#__PURE__*/_jsx(Poster,{setShowFilter:setShowFilter}),showFilter&&/*#__PURE__*/_jsx(Filter,{filter:filter,setFilter:setFilter,setShowList:setShowList,handleSubmit:handleSubmit})]}),/*#__PURE__*/_jsxs(\"div\",{children:[!loading&&/*#__PURE__*/_jsx(\"div\",{className:\"displayShows\",children:/*#__PURE__*/_jsx(Show,{searchItem:searchItem,filter:filter,showList:showList,setShowList:setShowList})}),loading&&/*#__PURE__*/_jsx(Loader,{})]})]});}export default App;","map":{"version":3,"names":["useState","useEffect","Show","Filter","Poster","Loader","App","searchItem","setSearchItem","showList","setShowList","loading","setLoading","filter","setFilter","showFilter","setShowFilter","handleSubmit","e","val","target","value","getTheShows","url","fetch","response","json","data","document","getElementsByClassName","classList","remove"],"sources":["/Users/ovaishk/WebSites/Show-Stalker/src/Components/App/App.js"],"sourcesContent":["import \"./App.css\";\nimport { useState, useEffect } from \"react\";\nimport Show from \"../Show/Show\";\nimport Filter from \"../Filter/Filter\";\nimport Poster from \"../Poster/Poster\";\nimport Loader from \"../Loader/Loader\";\n\nfunction App() {\n  const [searchItem, setSearchItem] = useState(\"\");\n  const [showList, setShowList] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [filter, setFilter] = useState(\"shows\");\n  const [showFilter, setShowFilter] = useState(false);\n\n  function handleSubmit(e) {\n    const val = e.target.value;\n    setSearchItem(val);\n  }\n\n  async function getTheShows(searchItem) {\n    let data, response, url;\n    url = `https://api.tvmaze.com/search/${filter}?q=${searchItem}`;\n    if (filter === \"shows\") {\n      response = await fetch(url);\n      data = await response.json();\n    } else {\n      url = `https://api.tvmaze.com/search/${filter}?q=${searchItem}`;\n      response = await fetch(url);\n      data = await response.json();\n      document.getElementsByClassName('actorInfo')[0].classList.remove('hideDiv');\n\n    }\n    setShowList(data);\n  }\n\n  useEffect(() => {\n    (async () => {\n      setLoading(true);\n      await getTheShows(searchItem);\n      setLoading(false);\n    })();\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [searchItem, filter]);\n\n  return (\n    <>\n      <div className=\"home\">\n        {/* Poster */}\n        <Poster setShowFilter={setShowFilter} />\n\n        {/* Filter & Input */}\n        {showFilter && (\n          <Filter\n            filter={filter}\n            setFilter={setFilter}\n            setShowList={setShowList}\n            handleSubmit={handleSubmit}\n          />\n        )}\n      </div>\n\n      {/* Results & NoResult */}\n      <div>\n        {!loading && (\n          <div className=\"displayShows\">\n            <Show\n                searchItem={searchItem}\n                filter={filter}\n                showList={showList}\n                setShowList={setShowList}\n              />\n          </div>\n        )}\n        {loading && (<Loader />)}\n      </div>\n    </>\n  );\n}\n\nexport default App;\n"],"mappings":"8XAAA,MAAO,WAAP,CACA,OAASA,QAAT,CAAmBC,SAAnB,KAAoC,OAApC,CACA,MAAOC,KAAP,KAAiB,cAAjB,CACA,MAAOC,OAAP,KAAmB,kBAAnB,CACA,MAAOC,OAAP,KAAmB,kBAAnB,CACA,MAAOC,OAAP,KAAmB,kBAAnB,C,6IAEA,QAASC,IAAT,EAAe,CACb,cAAoCN,QAAQ,CAAC,EAAD,CAA5C,wCAAOO,UAAP,eAAmBC,aAAnB,eACA,eAAgCR,QAAQ,CAAC,EAAD,CAAxC,yCAAOS,QAAP,eAAiBC,WAAjB,eACA,eAA8BV,QAAQ,CAAC,IAAD,CAAtC,yCAAOW,OAAP,eAAgBC,UAAhB,eACA,eAA4BZ,QAAQ,CAAC,OAAD,CAApC,yCAAOa,MAAP,eAAeC,SAAf,eACA,eAAoCd,QAAQ,CAAC,KAAD,CAA5C,0CAAOe,UAAP,gBAAmBC,aAAnB,gBAEA,QAASC,aAAT,CAAsBC,CAAtB,CAAyB,CACvB,GAAMC,IAAG,CAAGD,CAAC,CAACE,MAAF,CAASC,KAArB,CACAb,aAAa,CAACW,GAAD,CAAb,CACD,CAVY,QAYEG,YAZF,+IAYb,kBAA2Bf,UAA3B,8IAEEgB,GAAG,yCAAoCV,MAApC,eAAgDN,UAAhD,CAAH,CAFF,KAGMM,MAAM,GAAK,OAHjB,mDAIqBW,MAAK,CAACD,GAAD,CAJ1B,QAIIE,QAJJ,uCAKiBA,SAAQ,CAACC,IAAT,EALjB,QAKIC,IALJ,gDAOIJ,GAAG,yCAAoCV,MAApC,eAAgDN,UAAhD,CAAH,CAPJ,wBAQqBiB,MAAK,CAACD,GAAD,CAR1B,SAQIE,QARJ,wCASiBA,SAAQ,CAACC,IAAT,EATjB,SASIC,IATJ,gBAUIC,QAAQ,CAACC,sBAAT,CAAgC,WAAhC,EAA6C,CAA7C,EAAgDC,SAAhD,CAA0DC,MAA1D,CAAiE,SAAjE,EAVJ,QAaErB,WAAW,CAACiB,IAAD,CAAX,CAbF,yDAZa,8CA4Bb1B,SAAS,CAAC,UAAM,CACd,0DAAC,qIACCW,UAAU,CAAC,IAAD,CAAV,CADD,sBAEOU,YAAW,CAACf,UAAD,CAFlB,QAGCK,UAAU,CAAC,KAAD,CAAV,CAHD,sDAAD,KAKF;AACC,CAPQ,CAON,CAACL,UAAD,CAAaM,MAAb,CAPM,CAAT,CASA,mBACE,wCACE,aAAK,SAAS,CAAC,MAAf,wBAEE,KAAC,MAAD,EAAQ,aAAa,CAAEG,aAAvB,EAFF,CAKGD,UAAU,eACT,KAAC,MAAD,EACE,MAAM,CAAEF,MADV,CAEE,SAAS,CAAEC,SAFb,CAGE,WAAW,CAAEJ,WAHf,CAIE,YAAY,CAAEO,YAJhB,EANJ,GADF,cAiBE,uBACG,CAACN,OAAD,eACC,YAAK,SAAS,CAAC,cAAf,uBACE,KAAC,IAAD,EACI,UAAU,CAAEJ,UADhB,CAEI,MAAM,CAAEM,MAFZ,CAGI,QAAQ,CAAEJ,QAHd,CAII,WAAW,CAAEC,WAJjB,EADF,EAFJ,CAWGC,OAAO,eAAK,KAAC,MAAD,IAXf,GAjBF,GADF,CAiCD,CAED,cAAeL,IAAf"},"metadata":{},"sourceType":"module"}